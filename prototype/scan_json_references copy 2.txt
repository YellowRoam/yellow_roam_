import os

def scan_for_json_references(root_dir):
    print(f"🔍 Scanning for .json references in: {root_dir}\n")
    for foldername, subfolders, filenames in os.walk(root_dir):
        for filename in filenames:
            if filename.endswith(".py"):
                filepath = os.path.join(foldername, filename)
                with open(filepath, "r", encoding="utf-8") as f:
                    lines = f.readlines()
                    for i, line in enumerate(lines):
                        if ".json" in line or "json.load" in line or "json.dump" in line:
                            print(f"📁 {filepath}")
                            print(f"  Line {i+1}: {line.strip()}\n")

if __name__ == "__main__":
    project_path = input("Enter the path to your yellow_roam project (e.g. /Users/you/Desktop/yellow_roam):\n> ")
    scan_for_json_references(project_path.strip())
